[gd_scene load_steps=51 format=3 uid="uid://pcusqnl0gl13"]

[ext_resource type="Shader" path="res://Testing/Testing.gdshader" id="1_1a4ut"]
[ext_resource type="Shader" path="res://Components/Sky/sky.gdshader" id="1_2xi3d"]
[ext_resource type="Texture2D" uid="uid://bnl2b77gyng7m" path="res://addons/kenney_prototype_textures/dark/texture_01.png" id="2_jkdal"]
[ext_resource type="Script" path="res://addons/FateFramework/Entity/Character.gd" id="3_ksv2x"]
[ext_resource type="Script" path="res://addons/FateFramework/Entity/StateManager.gd" id="4_hcm5x"]
[ext_resource type="Script" path="res://addons/FateFramework/Ability/AbilityManager.gd" id="5_6op11"]
[ext_resource type="Script" path="res://addons/FateFramework/Equipment/Weapons/WeaponState.gd" id="5_a3nu5"]
[ext_resource type="Script" path="res://Components/Player/States/WalkingState.gd" id="5_tl3c6"]
[ext_resource type="PackedScene" uid="uid://cvcjmd70plvvr" path="res://Components/Weapons/testingWeapon.tscn" id="6_2o1yg"]
[ext_resource type="Script" path="res://Components/Player/States/JumpingState.gd" id="6_o4wij"]
[ext_resource type="Script" path="res://addons/FateFramework/Equipment/Weapons/WeaponRangedResource.gd" id="6_rosny"]
[ext_resource type="Script" path="res://Components/Player/States/slidingState.gd" id="7_bm1ph"]
[ext_resource type="Script" path="res://addons/FateFramework/Equipment/Weapons/WeaponRangedScript.gd" id="7_e1nnx"]
[ext_resource type="Script" path="res://Components/Player/Camera.gd" id="8_hhj4s"]
[ext_resource type="Script" path="res://addons/FateFramework/Entity/Utility/CoyoteTime.gd" id="8_vvuy2"]
[ext_resource type="Script" path="res://Components/Abilities/KnockBackAbility/KnockBackAbility.gd" id="9_fdwbi"]
[ext_resource type="Resource" uid="uid://damyqjrk81vvv" path="res://Components/Abilities/KnockBackAbility/SpaceWarp.tres" id="10_3jbsm"]
[ext_resource type="Script" path="res://addons/FateFramework/Entity/StatisticManager.gd" id="11_vketg"]
[ext_resource type="Script" path="res://addons/FateFramework/Entity/Utility/Health.gd" id="12_4e5j0"]
[ext_resource type="Script" path="res://Components/Player/States/deathState.gd" id="13_agppg"]
[ext_resource type="Script" path="res://addons/FateFramework/Entity/Utility/Energy.gd" id="13_u5i2p"]
[ext_resource type="PackedScene" uid="uid://bq2whroq8gjsx" path="res://Testing/bean.gltf" id="17_44kmx"]
[ext_resource type="Script" path="res://addons/FateFramework/Equipment/Weapons/WeaponStateManager.gd" id="19_a048f"]
[ext_resource type="Script" path="res://addons/FateFramework/Equipment/Weapons/WeaponModelManager.gd" id="23_87buu"]
[ext_resource type="Script" path="res://addons/FateFramework/Equipment/Weapons/WeaponAttachmentPoint.gd" id="24_rwr3k"]
[ext_resource type="PackedScene" uid="uid://d7t1ftib0g50" path="res://Testing/Box.gltf" id="26_6g8gy"]
[ext_resource type="PackedScene" uid="uid://c006hss4ibvij" path="res://Components/GUI/PlayerHUD/HUD.tscn" id="36_jgpkh"]

[sub_resource type="Gradient" id="Gradient_kgoht"]
interpolation_mode = 1
offsets = PackedFloat32Array(0, 0.605042)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_ea1tr"]
noise_type = 2
frequency = 0.2
fractal_type = 0
cellular_distance_function = 1
cellular_jitter = 0.0

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_xauhc"]
width = 864
height = 486
color_ramp = SubResource("Gradient_kgoht")
noise = SubResource("FastNoiseLite_ea1tr")

[sub_resource type="Gradient" id="Gradient_aspj8"]
offsets = PackedFloat32Array(0.396226, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_nkkvf"]
seed = 7
frequency = 0.046
fractal_octaves = 10

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_puxo0"]
seamless = true
color_ramp = SubResource("Gradient_aspj8")
noise = SubResource("FastNoiseLite_nkkvf")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_ol64f"]
seed = 3
frequency = 0.052

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_ecq1n"]
noise = SubResource("FastNoiseLite_ol64f")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_o65xn"]
frequency = 0.096

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_h41ml"]
noise = SubResource("FastNoiseLite_o65xn")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_7lib6"]
shader = ExtResource("1_2xi3d")
shader_parameter/day_bottom_color = Color(0.156863, 0.662745, 0.8, 1)
shader_parameter/day_top_color = Color(0, 1, 1, 1)
shader_parameter/sunset_bottom_color = Color(0, 0, 0, 1)
shader_parameter/sunset_top_color = Color(0.00784314, 0.00784314, 0.00784314, 1)
shader_parameter/horizon_color_day = Color(0.215686, 0.282353, 0.498039, 1)
shader_parameter/horizon_color_sunset = Color(0.188235, 0.188235, 0.188235, 1)
shader_parameter/horizon_color_night = Color(0, 0, 0, 1)
shader_parameter/horizon_falloff = 0.6
shader_parameter/sun_col = Color(1, 1, 0, 1)
shader_parameter/sun_size = 0.075
shader_parameter/sun_blur = 0.161
shader_parameter/moon_col = Color(0.419608, 0.376471, 1, 1)
shader_parameter/moon_size = 0.074
shader_parameter/moon_crescent_offset = 0.037
shader_parameter/clouds_main_color = Color(1, 1, 1, 1)
shader_parameter/clouds_edge_color = Color(1, 1, 1, 1)
shader_parameter/clouds_speed = 0.1
shader_parameter/clouds_scale = 0.1
shader_parameter/clouds_cutoff = 0.16
shader_parameter/clouds_fuzziness = 0.03
shader_parameter/cloud_outline = 1.0
shader_parameter/stars_cutoff = 0.763
shader_parameter/stars_speed = 0.0
shader_parameter/clouds_texture = SubResource("NoiseTexture2D_ecq1n")
shader_parameter/clouds_noise_texture = SubResource("NoiseTexture2D_puxo0")
shader_parameter/stars_texture = SubResource("NoiseTexture2D_h41ml")

[sub_resource type="Sky" id="Sky_rvnjh"]
sky_material = SubResource("ShaderMaterial_7lib6")
radiance_size = 0

[sub_resource type="Environment" id="Environment_hbd8x"]
background_mode = 2
sky = SubResource("Sky_rvnjh")
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_sky_contribution = 0.0
reflected_light_source = 1
tonemap_mode = 2
tonemap_exposure = 1.2
tonemap_white = 8.0
ssr_fade_in = 0.219613
ssao_sharpness = 1.0
ssao_light_affect = 0.22
ssao_ao_channel_affect = 1.0
ssil_radius = 7.82
ssil_intensity = 12.32
sdfgi_y_scale = 0
glow_enabled = true
glow_levels/2 = 0.18
glow_levels/3 = 0.0
glow_levels/5 = 0.19
glow_intensity = 0.75
glow_strength = 0.86
glow_bloom = 0.01
glow_hdr_threshold = 4.0
glow_map_strength = 1.0
glow_map = SubResource("NoiseTexture2D_xauhc")

[sub_resource type="Shader" id="Shader_x713m"]
code = "// NOTE: Shader automatically converted from Godot Engine 4.0.1.stable's StandardMaterial3D.

shader_type spatial;
render_mode blend_mix,depth_draw_opaque,cull_back,diffuse_burley,specular_schlick_ggx;
uniform vec4 albedo : source_color;
uniform sampler2D texture_albedo : source_color,filter_linear_mipmap,repeat_enable;
uniform float point_size : hint_range(0,128);
uniform float roughness : hint_range(0,1);
uniform sampler2D texture_metallic : hint_default_white,filter_linear_mipmap,repeat_enable;
uniform vec4 metallic_texture_channel;
uniform sampler2D texture_roughness : hint_roughness_r,filter_linear_mipmap,repeat_enable;
uniform float specular;
uniform float metallic;
varying vec3 uv1_triplanar_pos;
uniform float uv1_blend_sharpness;
varying vec3 uv1_power_normal;
uniform vec3 uv1_scale;
uniform vec3 uv1_offset;
uniform vec3 uv2_scale;
uniform vec3 uv2_offset;

global uniform float DOTRATE;


// Per-vertex input/output
varying vec2 shadowCoords;

void vertex() {
	TANGENT = vec3(0.0,0.0,-1.0) * abs(NORMAL.x);
	TANGENT+= vec3(1.0,0.0,0.0) * abs(NORMAL.y);
	TANGENT+= vec3(1.0,0.0,0.0) * abs(NORMAL.z);
	TANGENT = normalize(TANGENT);
	BINORMAL = vec3(0.0,1.0,0.0) * abs(NORMAL.x);
	BINORMAL+= vec3(0.0,0.0,-1.0) * abs(NORMAL.y);
	BINORMAL+= vec3(0.0,1.0,0.0) * abs(NORMAL.z);
	BINORMAL = normalize(BINORMAL);
	uv1_power_normal=pow(abs(NORMAL),vec3(uv1_blend_sharpness));
	uv1_triplanar_pos = VERTEX * uv1_scale + uv1_offset;
	uv1_power_normal/=dot(uv1_power_normal,vec3(1.0));
	uv1_triplanar_pos *= vec3(1.0,-1.0, 1.0);
	// Transform the vertex position to object space
	vec3 objPos = VERTEX;
	
	// Calculate the 2D coordinates of the vertex in object space
//	shadowCoords = objPos.xy*NORMAL.z+objPos.xz*NORMAL.y+objPos.zy*NORMAL.x;
	shadowCoords = vec2(dot(TANGENT, objPos), dot(BINORMAL, objPos));
	// Output the vertex position in world space
	
}




vec4 triplanar_texture(sampler2D p_sampler,vec3 p_weights,vec3 p_triplanar_pos) {
	vec4 samp=vec4(0.0);
	samp+= texture(p_sampler,p_triplanar_pos.xy) * p_weights.z;
	samp+= texture(p_sampler,p_triplanar_pos.xz) * p_weights.y;
	samp+= texture(p_sampler,p_triplanar_pos.zy * vec2(-1.0,1.0)) * p_weights.x;
	return samp;
}


void fragment() {
	vec4 albedo_tex = triplanar_texture(texture_albedo,uv1_power_normal,uv1_triplanar_pos);
	ALBEDO = albedo.rgb * albedo_tex.rgb;
	float metallic_tex = dot(triplanar_texture(texture_metallic,uv1_power_normal,uv1_triplanar_pos),metallic_texture_channel);
	METALLIC = metallic_tex * metallic;
	vec4 roughness_texture_channel = vec4(1.0,0.0,0.0,0.0);
	float roughness_tex = dot(triplanar_texture(texture_roughness,uv1_power_normal,uv1_triplanar_pos),roughness_texture_channel);
	ROUGHNESS = roughness_tex * roughness;
	SPECULAR = specular;
}


void light() {
	// Calculate the shadow intensity based on the dot product of the shadow coordinates
	// and the DOT_RATE parameter
	float shadowIntensity = abs(sin(shadowCoords.x * DOTRATE) * cos(shadowCoords.y * DOTRATE))*(1.-ATTENUATION);
	shadowIntensity=clamp(float(shadowIntensity>0.5)*2.+0.9*(1.-ATTENUATION),0.,1.);
	// Apply the shadow intensity as a diffuse color
	DIFFUSE_LIGHT = vec3(-shadowIntensity);
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_mf76k"]
render_priority = 0
shader = SubResource("Shader_x713m")
shader_parameter/albedo = Color(1, 1, 1, 1)
shader_parameter/point_size = 1.0
shader_parameter/roughness = 1.0
shader_parameter/metallic_texture_channel = Plane(1, 0, 0, 0)
shader_parameter/specular = 0.5
shader_parameter/metallic = 0.0
shader_parameter/uv1_blend_sharpness = 1.0
shader_parameter/uv1_scale = Vector3(1, 1, 1)
shader_parameter/uv1_offset = Vector3(0, 0, 0)
shader_parameter/uv2_scale = Vector3(1, 1, 1)
shader_parameter/uv2_offset = Vector3(0, 0, 0)
shader_parameter/texture_albedo = ExtResource("2_jkdal")

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_lv8pw"]
friction = 0.0

[sub_resource type="SphereShape3D" id="SphereShape3D_dkrjm"]
custom_solver_bias = 0.146
radius = 0.55

[sub_resource type="Resource" id="Resource_pauen"]
script = ExtResource("6_rosny")
ProjectileCount = 1
ProjectileSpread = Vector2(0, 0)
ProjectileAlongX = 1
WeaponModel = ExtResource("6_2o1yg")
WeaponScript = ExtResource("7_e1nnx")
AttackSpeed = 0.05
Damage = 5
CostPerShot = 1

[sub_resource type="SphereShape3D" id="SphereShape3D_aa1pn"]
radius = 0.1

[sub_resource type="ShaderMaterial" id="ShaderMaterial_tqvm7"]
render_priority = 127
shader = ExtResource("1_1a4ut")
shader_parameter/outline_bias = 0.0

[sub_resource type="QuadMesh" id="QuadMesh_70gyy"]
material = SubResource("ShaderMaterial_tqvm7")
flip_faces = true
size = Vector2(2, 2)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_jdsxf"]
radius = 0.625

[sub_resource type="BoxShape3D" id="BoxShape3D_ybm2n"]

[node name="Node3D" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.5, 0.866025, 0, -0.866025, -0.5, 0, 5, 0)
light_bake_mode = 0
shadow_enabled = true
shadow_transmittance_bias = 0.39
shadow_blur = 0.773
directional_shadow_mode = 0
directional_shadow_blend_splits = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_hbd8x")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="."]
use_collision = true
collision_priority = 1e+18

[node name="CSGBox3D" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.382, 0, 0)
size = Vector3(64, 1, 80)
material = SubResource("ShaderMaterial_mf76k")

[node name="stairs" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.75, 2.5, 0.6, 0)
size = Vector3(1.5, 0.1, 0.5)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGBox3D4" type="CSGBox3D" parent="CSGCombiner3D/stairs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -0.5)
size = Vector3(1.5, 0.1, 0.5)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGBox3D5" type="CSGBox3D" parent="CSGCombiner3D/stairs/CSGBox3D4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -0.5)
size = Vector3(1.5, 0.1, 0.5)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGBox3D6" type="CSGBox3D" parent="CSGCombiner3D/stairs/CSGBox3D4/CSGBox3D5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -0.5)
size = Vector3(1.5, 0.1, 0.5)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGBox3D4" type="CSGBox3D" parent="CSGCombiner3D/stairs/CSGBox3D4/CSGBox3D5/CSGBox3D6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -0.5)
size = Vector3(1.5, 0.1, 0.5)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGBox3D4" type="CSGBox3D" parent="CSGCombiner3D/stairs/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -0.5)
size = Vector3(1.5, 0.1, 0.5)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGBox3D5" type="CSGBox3D" parent="CSGCombiner3D/stairs/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -0.5)
size = Vector3(1.5, 0.1, 0.5)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGBox3D6" type="CSGBox3D" parent="CSGCombiner3D/stairs/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -0.5)
size = Vector3(1.5, 0.1, 0.5)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGBox3D4" type="CSGBox3D" parent="CSGCombiner3D/stairs/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -0.5)
size = Vector3(1.5, 0.1, 0.5)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGBox3D4" type="CSGBox3D" parent="CSGCombiner3D/stairs/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -0.5)
size = Vector3(1.5, 0.1, 0.5)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGBox3D5" type="CSGBox3D" parent="CSGCombiner3D/stairs/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -0.5)
size = Vector3(1.5, 0.1, 0.5)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGBox3D6" type="CSGBox3D" parent="CSGCombiner3D/stairs/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -0.5)
size = Vector3(1.5, 0.1, 0.5)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGBox3D4" type="CSGBox3D" parent="CSGCombiner3D/stairs/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -0.5)
size = Vector3(1.5, 0.1, 0.5)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGBox3D4" type="CSGBox3D" parent="CSGCombiner3D/stairs/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -0.5)
size = Vector3(1.5, 0.1, 0.5)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGBox3D5" type="CSGBox3D" parent="CSGCombiner3D/stairs/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -0.5)
size = Vector3(1.5, 0.1, 0.5)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGBox3D6" type="CSGBox3D" parent="CSGCombiner3D/stairs/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -0.5)
size = Vector3(1.5, 0.1, 0.5)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGBox3D5" type="CSGBox3D" parent="CSGCombiner3D/stairs/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -0.5)
size = Vector3(1.5, 0.1, 0.5)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGBox3D5" type="CSGBox3D" parent="CSGCombiner3D/stairs/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -0.5)
size = Vector3(1.5, 0.1, 0.5)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGBox3D6" type="CSGBox3D" parent="CSGCombiner3D/stairs/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D4/CSGBox3D4/CSGBox3D5/CSGBox3D6/CSGBox3D5/CSGBox3D5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -0.5)
size = Vector3(1.5, 0.1, 0.5)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGBox3D2" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5, 3.75, -10.45)
size = Vector3(4, 1, 7)
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0.5, 0)
polygon = PackedVector2Array(-5.5, 0, 0, 1, 1, 1, 1, 0)
depth = 3.0
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGPolygon3D2" type="CSGPolygon3D" parent="CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -3, 0.5, 1.31134e-07)
polygon = PackedVector2Array(-5.5, 0, 0, 1.5, 1, 1.5, 1, 0)
depth = 3.0
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGPolygon3D3" type="CSGPolygon3D" parent="CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -6, 0.5, 2.62268e-07)
polygon = PackedVector2Array(-5.5, 0, 0, 2, 1, 2, 1, 0)
depth = 3.0
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGPolygon3D4" type="CSGPolygon3D" parent="CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -9, 0.5, 3.93402e-07)
polygon = PackedVector2Array(-5.5, 0, 0, 3, 1, 3, 1, 0)
depth = 3.0
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGPolygon3D5" type="CSGPolygon3D" parent="CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -12, 0.5, 5.24536e-07)
polygon = PackedVector2Array(-5.5, 0, 0, 4, 1, 4, 1, 0)
depth = 3.0
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGPolygon3D6" type="CSGPolygon3D" parent="CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -15, 0.5, 6.5567e-07)
polygon = PackedVector2Array(-5.5, 0, 0, 5, 1, 5, 1, 0)
depth = 3.0
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGPolygon3D7" type="CSGPolygon3D" parent="CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -18, 0.5, 7.86805e-07)
polygon = PackedVector2Array(-5.5, 0, 0, 6, 1, 6, 1, 0)
depth = 3.0
material = SubResource("ShaderMaterial_mf76k")

[node name="CSGPolygon3D8" type="CSGPolygon3D" parent="CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -21, 0.5, 9.17939e-07)
polygon = PackedVector2Array(-5.5, 0, 0, 7, 1, 7, 1, 0)
depth = 3.0
material = SubResource("ShaderMaterial_mf76k")

[node name="CharacterNode" type="RigidBody3D" parent="." node_paths=PackedStringArray("abilityOrigin")]
transform = Transform3D(0.999999, 0, 0, 0, 1, 0, 0, 0, 0.999999, 3.00001, 1.501, -7.99999)
collision_priority = 1e+16
axis_lock_angular_x = true
axis_lock_angular_y = true
axis_lock_angular_z = true
physics_material_override = SubResource("PhysicsMaterial_lv8pw")
gravity_scale = 0.0
custom_integrator = true
continuous_cd = true
max_contacts_reported = 3
contact_monitor = true
can_sleep = false
linear_damp = 10.0
script = ExtResource("3_ksv2x")
SPEED = 6.0
DAMPING = 4.0
accelSpeed = 2.0
decelSpeed = 8.0
abilityOrigin = NodePath("Model/AbilityOrigin")
jumpForce = 12.0
stairCheckShape = SubResource("SphereShape3D_dkrjm")

[node name="Weapons" type="Node" parent="CharacterNode"]
script = ExtResource("19_a048f")

[node name="WeaponState" type="Node" parent="CharacterNode/Weapons"]
script = ExtResource("5_a3nu5")
WeaponData = SubResource("Resource_pauen")

[node name="States" type="Node" parent="CharacterNode"]
script = ExtResource("4_hcm5x")

[node name="PlayerJumpingState" type="Node" parent="CharacterNode/States"]
script = ExtResource("6_o4wij")

[node name="PlayerWalkingState" type="Node" parent="CharacterNode/States"]
script = ExtResource("5_tl3c6")

[node name="PlayerSlidingState" type="Node" parent="CharacterNode/States"]
script = ExtResource("7_bm1ph")
slideSpeedMult = 3.0
speedDecay = 0.75
minDecay = 5.0

[node name="PlayerDeathState" type="Node" parent="CharacterNode/States"]
script = ExtResource("13_agppg")

[node name="Abilities" type="Node" parent="CharacterNode"]
script = ExtResource("5_6op11")

[node name="KnockBackAbility" type="Node" parent="CharacterNode/Abilities"]
script = ExtResource("9_fdwbi")
rangeOf = 7.5
power = 20.0
abilityResource = ExtResource("10_3jbsm")

[node name="Statistics" type="Node" parent="CharacterNode"]
script = ExtResource("11_vketg")

[node name="Health" type="Node" parent="CharacterNode/Statistics"]
script = ExtResource("12_4e5j0")

[node name="Energy" type="Node" parent="CharacterNode/Statistics"]
script = ExtResource("13_u5i2p")
ENERGY = 150
maxENERGY = 150
energyRegenRate = 20.0

[node name="CoyoteTimerNode" type="Node" parent="CharacterNode"]
script = ExtResource("8_vvuy2")
maxCoyoteTime = 0.125

[node name="CameraArm" type="SpringArm3D" parent="CharacterNode"]
transform = Transform3D(0.999999, 0, 0, 0, 1, 0, 0, 0, 0.999999, 0.475, 0.5, 0)
shape = SubResource("SphereShape3D_aa1pn")
spring_length = 6.0

[node name="PlayerCamera" type="Camera3D" parent="CharacterNode/CameraArm"]
current = true
script = ExtResource("8_hhj4s")
mouseSensitivity = 0.01
maxRotUp = 1.047
maxRotDown = 0.785

[node name="MeshInstance3D" type="MeshInstance3D" parent="CharacterNode/CameraArm/PlayerCamera"]
mesh = SubResource("QuadMesh_70gyy")

[node name="CollisionShape3D" type="CollisionShape3D" parent="CharacterNode"]
shape = SubResource("CapsuleShape3D_jdsxf")

[node name="Model" type="Node3D" parent="CharacterNode"]

[node name="bean" parent="CharacterNode/Model" instance=ExtResource("17_44kmx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)

[node name="AbilityOrigin" type="Node3D" parent="CharacterNode/Model"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)

[node name="Primary" type="Node3D" parent="CharacterNode/Model"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.6, 0, -0.199999)

[node name="WeaponModelManager" type="Node3D" parent="CharacterNode"]
script = ExtResource("23_87buu")

[node name="HoldingGun" type="Marker3D" parent="CharacterNode/WeaponModelManager"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.6, 0, 0)
script = ExtResource("24_rwr3k")

[node name="GUI" parent="." instance=ExtResource("36_jgpkh")]

[node name="RigidBody3D" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1, 4)

[node name="Box" parent="RigidBody3D" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D2" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1, 5)

[node name="Box" parent="RigidBody3D2" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D3" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1, 6)

[node name="Box" parent="RigidBody3D3" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D4" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1, 7)

[node name="Box" parent="RigidBody3D4" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D5" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1, 8)

[node name="Box" parent="RigidBody3D5" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D6" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1, 9)

[node name="Box" parent="RigidBody3D6" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D7" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 2, 8.5)

[node name="Box" parent="RigidBody3D7" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D7"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D8" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 2, 7.5)

[node name="Box" parent="RigidBody3D8" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D8"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D9" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 2, 6.5)

[node name="Box" parent="RigidBody3D9" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D9"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D10" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 2, 5.5)

[node name="Box" parent="RigidBody3D10" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D10"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D11" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 2, 4.5)

[node name="Box" parent="RigidBody3D11" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D11"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D12" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 3, 5)

[node name="Box" parent="RigidBody3D12" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D12"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D13" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 3, 6)

[node name="Box" parent="RigidBody3D13" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D13"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D14" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 3, 7)

[node name="Box" parent="RigidBody3D14" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D14"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D15" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 3, 8)

[node name="Box" parent="RigidBody3D15" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D15"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D16" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 4, 7.5)

[node name="Box" parent="RigidBody3D16" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D16"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D17" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 4, 6.5)

[node name="Box" parent="RigidBody3D17" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D17"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D18" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 4, 5.5)

[node name="Box" parent="RigidBody3D18" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D18"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D19" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 5, 6)

[node name="Box" parent="RigidBody3D19" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D19"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D20" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 5, 7)

[node name="Box" parent="RigidBody3D20" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D20"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[node name="RigidBody3D21" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 6, 6.5)

[node name="Box" parent="RigidBody3D21" instance=ExtResource("26_6g8gy")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D21"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("BoxShape3D_ybm2n")

[connection signal="changeHealth" from="CharacterNode/Statistics/Health" to="GUI" method="_on_health_change_health"]
[connection signal="changeENERGY" from="CharacterNode/Statistics/Energy" to="GUI" method="_on_energy_change_energy"]
[connection signal="rotation_changed" from="CharacterNode/CameraArm/PlayerCamera" to="CharacterNode" method="_on_player_camera_rotation_changed"]
